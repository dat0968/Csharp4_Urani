@model IEnumerable<Sanpham>

@{
    ViewData["Title"] = "Details";
}
<!-- Breadcrumb Start -->
<div class="container-fluid">
    <div class="row px-xl-5">
        <div class="col-12">
            <nav class="breadcrumb bg-light mb-30">
                <a class="breadcrumb-item text-dark" href="#">TRANG CHỦ</a>

                <span class="breadcrumb-item active">CHI TIẾT SẢN PHẨM</span>
            </nav>
        </div>
    </div>
</div>
<!-- Breadcrumb End -->
<!-- Shop Detail Start -->
@foreach (var item in Model)
{
    var hinhanhsanpham = item.Hinhanhs?.FirstOrDefault()?.HinhAnh1;
    <div class="container-fluid pb-5">
        <div class="row px-xl-5">
            <div class="col-lg-5 mb-30">
                <div id="product-carousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner bg-light">
                        @if (item.Hinhanhs != null && item.Hinhanhs.Any())
                        {
                            var firstImage = item.Hinhanhs.First().HinhAnh1;
                            <div class="carousel-item active">
                                <img class="w-100 h-100" src="~/HinhAnh/SanPham/@item.Hinh" alt="Image">
                            </div>
                            foreach (var hinhanh in item.Hinhanhs.Skip(1))
                            {
                                <div class="carousel-item">
                                    <img class="w-100 h-100" src="~/HinhAnh/SanPham/@hinhanh.HinhAnh1" alt="Image">
                                </div>
                            }
                        }
                        else
                        {
                            <div class="carousel-item active">
                                <img class="w-100 h-100" src="~/HinhAnh/SanPham/@item.Hinh" alt="Image">
                            </div>
                        }
                    </div>
                    <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
                        <i class="fa fa-2x fa-angle-left text-dark"></i>
                    </a>
                    <a class="carousel-control-next" href="#product-carousel" data-slide="next">
                        <i class="fa fa-2x fa-angle-right text-dark"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-7 h-auto mb-30">
                <div class="h-100 bg-light p-30">
                    <h3>@item.TenSp</h3>
                    <div class="d-flex mb-3">
                        <div class="text-primary mr-2">
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star-half-alt"></small>
                            <small class="far fa-star"></small>
                        </div>
                        <small class="pt-1">(99 Reviews)</small>
                    </div>
                    <div class="d-flex mb-3">
                        <strong class="text-dark mr-3">Kích Thước:</strong>
                        @foreach (var kichthuc in item.Chitietkichthuocs)
                        {
                            <div class="custom-control custom-radio custom-control-inline mr-3">
                                <input type="radio" class="custom-control-input" id="size-@kichthuc.MaKichThuoc" name="size">
                                <label class="custom-control-label" for="size-@kichthuc.MaKichThuoc">
                                    @(kichthuc.MaKichThuocNavigation?.TenKichThuoc ?? "N/A")
                                </label>
                            </div>
                        }
                    </div>
                    <div class="d-flex mb-4">
                        <strong class="text-dark mr-3">Màu:</strong>
                        @foreach (var mausac in item.Chitietmausacs)
                        {                        
                                <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="color-@mausac.MaMau" name="color">
                                <label class="custom-control-label" for="color-@mausac.MaMau">
                                    @(mausac.MaMauNavigation?.TenMau ?? "N/A")
                                </label>
                            </div>                   
                        }
                    </div>
                   @*  <div class="d-flex mb-4">
                        <strong class="text-dark mr-3">Nhà Cung Cấp:</strong>
                        <span>@(item.MaNhaCcNavigation?.TenNhaCc)</span>
                    </div> *@
                    <div class="d-flex mb-4">
                    <strong class="text-dark mr-3">Chất liệu:</strong>
                    @foreach (var chatlieu in item.Chitietchatlieus)
                    {
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="chat-@chatlieu.MaChatLieu" name="chatlieu">
                            <label class="custom-control-label" for="chat-@chatlieu.MaChatLieu">
                                @(chatlieu.MaChatLieuNavigation?.TenChatLieu ?? "N/A")
                            </label>
                        </div>
                    }
                    </div>

                    <div class="d-flex align-items-center mb-4 pt-2">
                        <div class="input-group quantity mr-3" style="width: 130px;">
                            <div class="input-group-btn">
                                <button class="btn btn-primary btn-minus">
                                    <i class="fa fa-minus"></i>
                                </button>
                            </div>
                            <input type="text" class="form-control bg-secondary border-0 text-center" value="1">
                            <div class="input-group-btn">
                                <button class="btn btn-primary btn-plus">
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <button class="btn btn-primary px-3">
                            <i class="fa fa-shopping-cart mr-1"></i> Thêm giỏ hàng
                        </button>
                        <br />

                    </div>
                    <div class="tab-content">
                        <div class="nav nav-tabs mb-4">
                            <a class="nav-item nav-link text-dark active" data-toggle="tab" href="#tab-pane-1">MÔ TẢ SẢN PHẨM</a>

                        </div>
                        <div class="tab-pane fade show active" id="tab-pane-1">
                            <p>
                                @item.MoTa
                                @* <br />
                                Kích thước nhỏ
                                <br />
                                - Chiều dài: 20cm
                                - Chiều rộng: 15cm
                                - Chiều cao: 10cm
                                <br />
                                Kích thước trung bình
                                <br />
                                - Chiều dài: 30cm
                                - Chiều rộng: 25cm
                                - Chiều cao: 15cm
                                <br />
                                Kích thước lớn
                                <br />
                                - Chiều dài: 40cm
                                - Chiều rộng: 30cm
                                - Chiều cao: 20cm *@
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
}
<!-- Shop Detail End -->
<!-- Products Start -->
<div class="container-fluid py-5">
    <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
        <span class="bg-secondary pr-3">SẢN PHẨM TƯƠNG TỰ</span>
    </h2>
    <div class="row px-xl-5">
        <div class="col">
            <div class="owl-carousel related-carousel">
                @foreach (var item in ViewBag.SanPhamTuongTu as List<Sanpham>)
                {
                    <div class="product-item bg-light">
                        <div class="product-img position-relative overflow-hidden">
                            <img class="img-fluid w-100 h-50" src="~/HinhAnh/SanPham/@item.Hinh" alt="">
                            <div class="product-action">
                                <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-shopping-cart"></i></a>
                                <a class="btn btn-outline-dark btn-square" href=""><i class="far fa-heart"></i></a>
                                <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-sync-alt"></i></a>
                                <a asp-action="Details" asp-controller="CuaHang" asp-route-id="@item.MaSp" class="btn btn-outline-dark btn-square"><i class="fa fa-search"></i></a>
                            </div>
                        </div>
                        <div class="text-center py-4">
                            <a class="h6 text-decoration-none text-truncate" href="">@item.TenSp</a>
                            <div class="d-flex align-items-center justify-content-center mt-2">
                                <h5>@item.DonGiaBan.ToString("#,##0") đ</h5>
                            </div>
                            <div class="d-flex align-items-center justify-content-center mb-1">
                                <small class="fa fa-star text-primary mr-1"></small>
                                <small class="fa fa-star text-primary mr-1"></small>
                                <small class="fa fa-star text-primary mr-1"></small>
                                <small class="fa fa-star text-primary mr-1"></small>
                                <small class="fa fa-star text-primary mr-1"></small>
                                <small>(99)</small>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
<!-- Products End -->
